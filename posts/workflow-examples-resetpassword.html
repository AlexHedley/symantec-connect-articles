<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="AlexHedley">

  <title>Symantec Connect - Workflow - Examples - ResetPassword</title>

  <link rel="canonical" href='https://alexhedley.github.io/symantec-connect-articles/posts/workflow-examples-resetpassword'>

      <link type="application/rss+xml" rel="alternate" title="Symantec Connect" href="/symantec-connect-articles/feed.rss" />
      <link type="application/atom+xml" rel="alternate" title="Symantec Connect" href="/symantec-connect-articles/feed.atom" />

  <meta name="application-name" content='Symantec Connect' />
  <meta name="msapplication-tooltip" content='Symantec Connect' />
  <meta name="msapplication-starturl" content='/symantec-connect-articles/' />

  <meta property="og:title" content='Symantec Connect - Workflow - Examples - ResetPassword' />
    <meta property="og:image" content='/symantec-connect-articles/images/header.png' />
  <meta property="og:type" content="website" />
  <meta property="og:url" content='https://alexhedley.github.io/symantec-connect-articles/posts/workflow-examples-resetpassword' />

  <link rel="icon" href='/symantec-connect-articles/favicon.ico'>

  <!-- Custom fonts for this template -->
  <link href='/symantec-connect-articles/vendor/fontawesome-free/css/all.min.css' rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" data-no-mirror>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" data-no-mirror>

  <!-- Styles for this template (also includes Bootstrap) -->
  <link href='/symantec-connect-articles/scss/clean-blog.css' rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js" data-no-mirror></script>
  <script src="https://cdn.jsdelivr.net/npm/quicklink@2.3.0/dist/quicklink.umd.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.css" rel="stylesheet">

  <link href="/symantec-connect-articles/scss/TabGroup.css" rel="stylesheet" type="text/css">

  

</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href='/symantec-connect-articles/'>Symantec Connect</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ms-auto">
          <li class="nav-item">
    <a class="nav-link" href="/symantec-connect-articles/posts">Posts</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/symantec-connect-articles/tags">Tags</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/symantec-connect-articles/stats">Stats</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/symantec-connect-articles/about">About</a>
  </li>

          <li class="nav-item">
            <span class="nav-link">
              <form class="form-inline my-2 my-lg-0" action="/symantec-connect-articles/search" method="GET">
                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" name="query">
                <input type="submit" hidden />
              </form>
            </span>
          </li>
      </ul>
    </div>
  </div>
</nav>


  <!-- Page Header -->
  <header class="masthead" style="background-image: url(&quot;/symantec-connect-articles/images/header.png&quot;)">
  <div class="container position-relative">
    <div class="row">
      <div class="col-md-12">
        <div class='post-heading'>
          <h1>
            Workflow - Examples - ResetPassword
          </h1>
            <div class="meta">Published on Thursday 14 February 2019</div>
              <div class="mt-3">
                  <a href="/symantec-connect-articles/tags/workflow" class="badge text-bg-light"> Workflow</a>
                  <a href="/symantec-connect-articles/tags/examples" class="badge text-bg-light"> Examples</a>
              </div>
        </div>
      </div>
    </div>
  </div>
</header>


  <!-- Main Content -->
  <div class="container">
    <div class="row">
      <div id="content" class="col-md-12">
        <h2 id="reset-password">Reset Password</h2>
<p><img src="images/article-3812001-files_Workflow.png" alt="Workflow" /> <a href="https://community.broadcom.com/symantecenterprise/viewdocument?DocumentKey=443c6adf-6a56-4c7f-b727-0ddeb8f9e0d9&amp;CommunityKey=04ead5e9-3643-4118-b853-afa5a58710c6&amp;tab=librarydocuments">Workflow - Examples</a></p>
<p>Name</p>
<blockquote>
<p>Symantec.Workflow.ResetPassword</p>
</blockquote>
<p>Description</p>
<blockquote>
<p>Allows you to reset a password automatically in Active Directory.</p>
<ul>
<li>Enables a manager to reset the Active Directory password for an employee. Also enables a user to request a password reset for another user, with manager approval required.</li>
<li>Initiated by browsing to a Password Reset Request form</li>
</ul>
</blockquote>
<p>Author mail:</p>
<blockquote>
<p>nancy_mitchelmore&#64;symantec.com</p>
</blockquote>
<p>Process Prefix: &quot;ITSR-&quot;</p>
<p>Documentation</p>
<p>| <strong>Reset Active Directory Password Process</strong><br>
<br>The Reset Password process enables a user to request another user's Active Directory password reset. A user cannot request his/her own password reset.<br>
<br>Prerequisites for implementing this process are to<br>
<br>In order for a user to have his/her password changed, the user must exist in Active Directory.  <br>				User accounts must be active in Active Directory (Account tab &gt; Account is Disabled unchecked).  <br>				The account must be able to have password changed in Active Directory (Account tab &gt; User Cannot Change Password unchecked).  <br>				The user’s manager must be designated within the Organization tab of Active Directory, or the user’s active and accurate phone number must be populated within the user account in the General tab &gt; Telephone Number field. The manager must also have a valid e-mail address populated within the General tab &gt; Email Address field within Active Directory.  <br>				From the Properties tab in the project in the Workflow Designer, set the desired group names and e-mail information, and Active Directory settings.<br>
<br>The group names and e-mail addresses are populated by these properties:<br>
<br>ADAdministrator (the e-mail address of the user responsible for notifying a user of a new password by phone).   <br>				GroupServiceManagers, ServiceManagerGroupEmail (the name and e-mail address of the group notified when there is a problem with notifying the user after both calling and unsuccessful e-mailing of the user’s manager).   <br>				AdministratorContactName, AdministratorContactInfo, AdministratorEmail (used when there is a failure with the process or if the user’s manager cannot be contacted by e-mail to approve a password reset request).  <br>				The e-mail server settings are populated by these properties: SMTPServer, MailFromAddress.   <br>				The AD settings are populated by these properties: ADDomainName, ADServer, ADDomainAdminUser, ADDomainAdminPassword.<br>
<br>6.     Verify that you want the tasks/e-mails to go to the following users, and change the task assignment in the Dialog Workflow components as desired. No tasks are assigned, only e-mails are sent by default. The following users/groups are used:<br>
<br>AD Administrators -     AD Administrators are tasked with contacting a user by phone to notify of a password reset. (Deliver via Contact model &gt; Contact w/New Password – Phone Dialog Workflow component.)   <br>				Service Managers - When an AD Administrator cannot contact a user, Service Managers are tasked to figure out the issue. (Primary model &gt; Determine Issue and Communicate New Password Dialog Workflow component.)   <br>				Administrators -  Administrators are used when there is a failure with the process or if the user’s manager cannot be contacted by e-mail to approve a password reset request. (Determine Issue and Resolve it model &gt; Determine Issue and Resolve It Dialog Workflow component. Also, Request Manager Approval Model &gt; Need Administrator’s Approval Dialog Workflow component.)<br>
<br>If you wish to use Process Manager for task assignment, set up the task assignment in the Dialog Workflow components. The default setting is &quot;DefaultTaskSource.&quot; Change this to &quot;ProcessManagerTaskSource&quot; and scroll down to the Task Assignments section and make the desired task assignments.<br>
<br>General process rules:<br><ul>				<li>Users cannot request own password reset </li>				<li>Manager approval is required* </li>				<li>New password is randomly generated </li>				<li>User's account is updated with the new password </li>				<li>User's account is set to require new password at next logon (which must be done before the user attempts to log in to the Process Manager portal) </li>				<li>An e-mail with the temporary password is sent to the user's manager*</li>			</ul>
<br>Requesters have two methods of performing the password reset:<br>
<br>If the requester is the user’s manager (determined by the manager set for the user on the Organization tab for the user in Active Directory), approval is assumed and the reset happens automatically. Otherwise, an e-mail/task goes to the user's manager to approve the reset. The e-mail to approve the reset goes to the e-mail address set on the manager’s record on the General tab &gt; Email Address field in Active Directory.   <br>				Asking the AD Administrator to do the password reset (after getting manager approval from the user's manager), then calling the user to notify of the reset.  <br>				*If manager information is not found, meaning specific task assignment/email contact cannot be made to the manager, the process automatically emails Administrators for approval of a password reset.<br>
<br>Method 1<br>
<br>1.    If manager name and/or e-mail address cannot be found, the requestor must use method #2.<br>
<br>2.    The process checks to see if the requestor is the user's manager, and if not, the appropriate manager is looked up in Active Directory and tasked with approval.<br>
<br>3.    Upon approval, the manager receives an e-mail containing the new password to share with the user. The user must change the password upon initial login.<br>
<br>Method 2<br>
<br>1.    If no phone number for the user is found, the requestor must use method #1.<br>
<br>2.    The process checks to see if the requestor is the user's manager, and if not, the appropriate manager is looked up in Active Directory and tasked with approval. If the manager email information is not found, the email approval message goes to the Administrator.<br>
<br>3.    Upon approval, the AD Administrator receives an e-mail containing the new password to share with the user by phone. The user must change the password upon initial login.<br>
<br>4.   If the user cannot be contacted, the AD Administrator completes a form stating unsuccessful contact. If the phone call is not successful, an e-mail goes to the manager of the user. If the e-mail fails, an e-mail/task then goes to the Service Managers to further attempt contact. If unsuccessful, Service Managers complete a form explaining why and the process ends. |
| --- |</p>
<p>Password Reset Business Model</p>
<p><img src="images/ResetPassword_PasswordReset.model_.png" alt="Password Reset" /></p>
<p>Primary</p>
<p><img src="images/ResetPassword_Primary.model_.png" alt="Primary" /></p>
<p>| <strong>Reset Active Directory Password Process</strong><br>
<br>The Reset Password process enables a user to request another user's active Directory password reset. Please see the Documentation node for details on how the process works and what set up is required.<br>
<br>---<br>
<br>Out of the box, there are 2 possible ways a user will receive his/her new password and this is set by the requestor in the initial Reset Password form.  After the password has been successfully updated, the “Contact Method” matches rule will determine how to handle communications.<br><ul>				<li>E-mail: An e-mail will be sent to the user’s manager to the e-mail address on file in Active Directory (General tab &gt; Email Address field in Active Directory).</li>				<li>Phone: The designated AD Administrator will contact the user at the number on file in Active Directory (General tab &gt; Phone number field in Active Directory). If the AD Administrator fails to make contact by phone, the manager e-mail method is used next.</li>			</ul>
<br>A third option, SMS text, is possible however this is not implemented and would therefore require configuration.  <br>				If contact is made by any of the choices, the process is completed.<br>
<br>---<br>
<br><strong>Bypass Manager Approval</strong><br>
<br>Edit the T/F Rule &quot;Request by Manager&quot;   <br>				Navigate to the Setting Tab uncheck 'Is Enabled'   <br>				Set Execution Outcome to True<br>
<br>---<br>
<br>If the AD administrator cannot make contact with the user who had the password reset, the manager e-mail method of contact is attempted. If this is unsuccessful, a task is assigned to the Service Managers group to investigate. By default, the Service Managers group has 2 hours to process the task before it times out. (You can build in a time out process here for additional handling.) |
| --- |</p>
<p><strong>Dialog Workflow(s)</strong></p>
<ul>
<li>Determine Issue and Communicate New Password</li>
</ul>
<p>Delivery via Contact</p>
<p><img src="images/ResetPassword_DeliveryviaContact.model_.png" alt="Delivery via Contact" /></p>
<p>| In this model, the phone call method of contact is handled. The AD Administrator will receive a task to Contact via Phone if the requestor chose to be contacted via phone OR if any of the other 2 methods failed.<br>
<br>This form can be found in the “Contact w/New Password - Phone” Dialog Workflows within the same linked model.  When the AD Administrator makes contact,  the he/she will mark the task accordingly. At this point the process is completed.<br>
<br>If the AD Administrator is unsuccessful, he/she will mark the task accordingly.  At this point, the user’s manager receives an e-mail with the password information to notify the user. If the e-mail delivers successfully, the process is complete.<br>
<br>If the user’s manager did not have an e-mail address on file, or the e-mail fails for any reason, the Service Managers group is tasked to look into the issue. An email sent to the requestor informing him/her that the AD Administrator was unable to contact the user. |
| --- |</p>
<p><strong>Dialog Workflow(s)</strong></p>
<ul>
<li>Contact w/New Password - Phone</li>
</ul>
<p>Delivery via Email</p>
<p><img src="images/ResetPassword_DeliveryviaEmail.model_.png" alt="Delivery via Email" /></p>
<table>
<thead>
<tr>
<th>This model executes the e-mail delivery of a user's password to the user's manager, if the email notification method was selected. The manager is instructed to inform the user of his/her new password. This e-mail contact method is also tried after the unsuccessful attempt by the AD Administrator to contact the user if the phone call method was originally followed.</th>
</tr>
</thead>
</table>
<p>Delivery via SMS</p>
<p><img src="images/ResetPassword_DeliveryviaSMS.model_.png" alt="Delivery via SMS" /></p>
<table>
<thead>
<tr>
<th>This model is not used but is retained in case SMS texting is desired. If a customer chooses to introduce SMS texting functionality, the SMS text option needs to be added as a communication method to the initial PW reset request form. Also, following needs to be completed:<br><ul>				<li>In User SMS Capability component, replace with real logic (compare user's manager to AD or other login) </li>				<li>Get User's Cell Phone </li>				<li>Determine Cell Phone Service Provider </li>				<li>Build out To Address depending on the Service Provider</li>			</ul></th>
</tr>
</thead>
</table>
<p>Determine Issue and Resolve It<br />
<img src="images/ResetPassword_DetermineIssueandResolveIt.model_.png" alt="Determine Issue and Resolve It" /></p>
<table>
<thead>
<tr>
<th>This model is used if there is a failure with the update of a user, or if there is a problem with the process. It notifies the AD Administrators that there was a failure.</th>
</tr>
</thead>
</table>
<p><strong>Dialog Workflow(s)</strong></p>
<ul>
<li>Determine Issue and Resolve it</li>
</ul>
<p>Request Manager Approval</p>
<p><img src="images/ResetPassword_RequestManagerApproval.model_.png" alt="Request Manager Approval" /></p>
<p>| In this model, the user's manager receives an email with a link to either approve or deny the user's password reset. If the request is not processed within 30 minutes (as configured from the Event Configuration tab &gt; Timeout Configuration section), the process adds Service Managers to the request and gives anohter 30 minutes for processing. If that times out, then the process tasks the AD Administrator to process the request.<br>
<br>The requestor receives email notification of the outcome.<br>
<br>If the manager's email address is not on file, the Administrator project property for email address is used to send notification to an AD Administrator for approval.<br>
<br>You can bypass the managerial approval if you choose:<br><ol>				<li>Disable the “Request by Manager” component </li>			</ol><ul>				<li>Right click on the model and choose “Edit Component” </li>				<li>Navigate to the “Settings” tab and uncheck the “Is Enabled” check box </li>				<li>Set the Execution Outcome to True</li>				<li>Click on OK </li>			</ul> |
| --- |</p>
<p>Request PW Reset</p>
<p><img src="images/ResetPassword_RequestPWReset.model_.png" alt="Request PW Reset" /></p>
<p>| This model contains the form that the user accesses to submit the password reset request, and handles the three steps described below. The dialog model within the Request PW Reset component obtains the user's information and performs checks against Active Directory. The Global.ContactMethod (the global variable that tells the method of contact), is set within this Dialog Workflow component.<br>
<br><strong>Step 1: Submit Request</strong><br>
<br>The requestor may choose to only reset someone else’s password. If the requester is not the user’s manager, approval will be required. Required fields are Email or User Name, and Notification Method. Additional Notes is optional and is for the requestor to provide further information such as an alternative phone number to what is on file in the Active Directory.<br>
<br>Upon click of the Submit button, the process will confirm that the user is in Active Directory, the account is active, and the password can be changed. The process also confirms whether the manager e-mail address is present if that method of notification is selected, or if the user’s phone number is present, if that method of contact is selected.<br>
<br><strong>Step 2:  Reset Someone Else’s Password</strong><br>
<br>If the requestor is not the user’s manager, an email will be sent to the appropriate manager* requesting authorization.  If the request is denied, the manager is required to provide a reason.  Regardless of the decision, the requestor will receive an email that will let him/her  know.<br>
<br>*The manager information is obtained from the Active Directory. If no manager is found, by default Administrators in Process Manager must handle approval.<br>
<br><strong>Step 3:  Generate Password</strong><br>
<br>If the request is an authorized request, that is if a manager submitted the request or the manager approved the request, the “Creating Password” embedded rule model will create a new password and update the user’s account. The account is also updated to required Change Password on next successful logon.<br>
<br>If the password cannot be updated, AD Administrators are notified and an email is sent to the manager. |
| --- |</p>
<p><strong>Dialog Workflow(s)</strong></p>
<ul>
<li>Request PW Reset</li>
</ul>
<p><strong>Properties</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Category</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>GroupServiceManagers</td>
<td></td>
<td>Service Managers</td>
<td></td>
</tr>
<tr>
<td>LoginFailureURL</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>NSVersion</td>
<td></td>
<td>NS7</td>
<td></td>
</tr>
<tr>
<td>ProcessManagerURL</td>
<td></td>
<td>http://localhost/ProcessManager</td>
<td></td>
</tr>
<tr>
<td>ProcessManagerVirtualDirectory</td>
<td></td>
<td>ServiceDesk.ResetPassword</td>
<td></td>
</tr>
<tr>
<td>SMTPServer</td>
<td></td>
<td>localhost</td>
<td></td>
</tr>
<tr>
<td>ADAdministratorEmail</td>
<td></td>
<td>ADADmin&#64;symantec.com</td>
<td></td>
</tr>
<tr>
<td>MailFromAddress</td>
<td></td>
<td>no-reply&#64;symantec.com</td>
<td></td>
</tr>
<tr>
<td>ServiceManagerGroupEmail</td>
<td></td>
<td>ServiceManagers&#64;symantec.com</td>
<td></td>
</tr>
<tr>
<td>ErrorContactName</td>
<td></td>
<td>ContactName</td>
<td></td>
</tr>
<tr>
<td>ErrorContactInfo</td>
<td></td>
<td>ErrorContact&#64;symantec.com</td>
<td>(must be an e-mail address)</td>
</tr>
</tbody>
</table>
<p>AD Properties too.</p>
<p><strong>Global Data</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>CurrentStatus</td>
<td></td>
</tr>
<tr>
<td>ContactMethod</td>
<td></td>
</tr>
</tbody>
</table>
<p>Documented on Connect by:</p>
<p><a href="https://www.protirus.com/"><img src="images/Protirus.png" alt="Protirus" /></a>​</p>


        

      </div>
    </div>
  <div id="comments-container" class="row">
    <script src="https://giscus.app/client.js"
        data-repo='alexhedley/symantec-connect-articles'
        data-repo-id='R_kgDOH723Rw'
        data-category-id='DIC_kwDOH723R84CXRav'
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>

  </div>
  </div>

  <hr>

  <!-- Footer -->
  <footer>
  <div class="container">
    <div class="row">
      <div class="col-md-12 text-center">
        <p class="copyright">&#xA9; Alex Hedley 2015-2020</p>

        <ul class="list-inline text-center small">
            <li class="list-inline-item">
              <a href="/symantec-connect-articles/feed.rss"><i class="fa fa-rss"></i> RSS Feed</a>
            </li>
            <li class="list-inline-item">
              <a href="/symantec-connect-articles/feed.atom"><i class="fa fa-rss"></i> Atom Feed</a>
            </li>
        </ul>
        <br />
        <div class="font-weight-bold small"><a href="https://statiq.dev">Generated by Statiq</a></div>
      </div>
    </div>
  </div>
</footer>


  <!-- Scripts -->
  <script src='/symantec-connect-articles/vendor/bootstrap/js/bootstrap.bundle.min.js'></script>
  <script src='/symantec-connect-articles/vendor/startbootstrap-clean-blog/js/scripts.js'></script>
  <script src='/symantec-connect-articles/js/clean-blog.js'></script>
      <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CQV2ZWNX32"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-CQV2ZWNX32');
    </script>
  

</body>

</html>
